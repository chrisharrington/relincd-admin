{"version":3,"sources":["app/actions/base.js","app/actions/company.js","app/actions/index.js","app/actions/operatingArea.js","app/actions/role.js","app/actions/user.js","app/application.js","app/components/dropdown.jsx","app/components/header.jsx","app/components/userList.jsx","app/components/userModal.jsx","app/config.js","app/constants.js","app/controller.js","app/dispatcher/dispatcher.js","app/dispatcher/emitter.js","app/extensions/array.js","app/extensions/index.js","app/extensions/string.js","app/initialize.js","app/models/company.js","app/models/operatingArea.js","app/models/role.js","app/models/user.js","app/pages/management.jsx","app/router.js","app/stores/base.js","app/stores/company.js","app/stores/index.js","app/stores/operatingArea.js","app/stores/role.js","app/stores/user.js","app/utilities/validation.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApEA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/MA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;ACAA;AAAA;AAAA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAAA;ACAA;AAAA;AACA;AACA;AAFA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA","file":"public/js/app.js","sourcesContent":["module.exports = function(constants) {\n\tthis.all = function() {\n\t\treturn {\n\t\t\ttype: constants.ALL\n\t\t};\n\t};\n\t\n\tthis.create = function(content) {\n\t\treturn {\n\t\t\ttype: constants.CREATE,\n\t\t\tcontent: content\n\t\t};\n\t};\n};","var constants = require(\"../constants\"),\n\tBaseAction = require(\"actions/base\");\n\nmodule.exports = new BaseAction(constants.company);","var actions = {}, location = \"actions/\";\n[\"role\", \"user\", \"company\", \"operatingArea\"].forEach(function(action) {\n\tactions[action] = require(location + action);\n});\nmodule.exports = actions;","var BaseAction = require(\"actions/base\"),\n\tconstants = require(\"constants\");\n\nmodule.exports = new BaseAction(constants.operatingArea);","var BaseAction = require(\"actions/base\"),\n\tconstants = require(\"../constants\");\n\nmodule.exports = new BaseAction(constants.role);","var BaseAction = require(\"actions/base\"),\n\tconstants = require(\"../constants\");\n\nmodule.exports = new BaseAction(constants.user);","/* jshint node: true */\n\"use strict\";\n\nvar Backbone = require(\"backbone\"),\n    Router = require(\"router\"),\n    Controller = require(\"controller\");\n\nvar app = new Backbone.Marionette.Application();\n\napp.on(\"start\", function () {\n    Backbone.history.start();\n});\n\nmodule.exports = app;","/** @jsx React.DOM */\n/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\");\n\nmodule.exports = React.createClass({displayName: 'exports',\t\n\trender: function () {\n\t\tvar list = this.props.list;\n\t\tvar items = [];\n\t\tfor (var i = 0; i < this.props.list.length; i++)\n\t\t\titems.push(React.DOM.li({role: \"presentation\", onClick: this.props.select.bind(this, this.props.list[i].get(\"name\"))}, React.DOM.a({role: \"menuitem\", tabindex: \"-1\"}, this.props.list[i].get(\"name\"))));\n\t\t\n        return React.DOM.div({className: \"dropdown\" + (this.props.error ? \" error\" : \"\")}, \n            React.DOM.button({className: \"btn btn-default dropdown-toggle\", type: \"button\", id: \"dropdownMenu1\", 'data-toggle': \"dropdown\"}, \n\t\t\t\tthis.props.value, \n                React.DOM.i({className: \"fa fa-caret-down\"})\n            ), \n            React.DOM.ul({className: \"dropdown-menu\", role: \"menu\", 'aria-labelledby': \"dropdownMenu1\"}, \n\t\t\t\titems\n            )\n        )\n    }\n});","/** @jsx React.DOM */\n/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\");\n\nmodule.exports = React.createClass({displayName: 'exports',\n\tgetInitialState: function() {\n\t\treturn {\n\t\t\tuser: {}\n\t\t};\n\t},\n\t\n\tcomponentWillMount: function() {\n\t\tthis.setState({\n\t\t\tuser: {\n\t\t\t\tname: \"Chris\"\n\t\t\t}\n\t\t})\n\t},\n\t\n    render: function () {\n        return React.DOM.div({className: \"navbar navbar-inverse navbar-fixed-top\", role: \"navigation\"}, \n      \t\tReact.DOM.div({className: \"container\"}, \n        \t\tReact.DOM.div({className: \"navbar-header\"}, \n          \t\t\tReact.DOM.a({className: \"navbar-brand logo\"}, \"Relincd\")\n        \t\t), \n        \t\tReact.DOM.div({className: \"collapse navbar-collapse\"}, \n\t\t\t\t\tReact.DOM.ul({className: \"nav navbar-nav\"}, \n\t\t\t\t\t\tReact.DOM.li({className: \"active\"}, React.DOM.a({href: \"#\"}, \"Management\")), \n\t\t\t\t\t\tReact.DOM.li(null, React.DOM.a({href: \"#about\"}, \"Company Hierarchies\"))\n\t\t\t\t\t), \n\t\t\t\t\tReact.DOM.div({className: \"account-info\"}, \n\t\t\t\t\t\tReact.DOM.span(null, \"Welcome, \",  this.state.user.name, \"!\"), \n\t\t\t\t\t\tReact.DOM.br(null), \n\t\t\t\t\t\tReact.DOM.a(null, \"Sign Out\")\n\t\t\t\t\t)\n        \t\t)\n      \t\t)\n\t\t);\n    }\n});","/** @jsx React.DOM */\n/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\"),\n    UserActions = require(\"actions/user\"),\n    \n    emitter = require(\"dispatcher/emitter\"),\n    dispatcher = require(\"dispatcher/dispatcher\"),\n    constants = require(\"constants\");\n\nmodule.exports = React.createClass({displayName: 'exports',\n    getInitialState: function() {\n        return {\n            users: []\n        }  \n    },\n    \n    componentWillMount: function() {\n        var me = this;\n        \n        emitter.on(constants.user.ALL, function(users) {\n\t\t\tme.setState({ users: users });\n\t\t});\n        \n        emitter.on(constants.user.USER_CREATED, function(user) {\n            var users = me.state.users;\n            users.push(user);\n            me.setState({ users: users });\n        });\n        \n        dispatcher.dispatch(UserActions.all());\n    },\n    \n\trender: function () {\n        var me = this;\n        var users = this.state.users.map(function(user) {\n            return React.DOM.tr(null, \n                React.DOM.td(null, user.attributes.firstName + \" \" + user.attributes.lastName), \n                React.DOM.td(null, user.attributes.email), \n                React.DOM.td(null, user.attributes.phone), \n                React.DOM.td(null, user.attributes.role), \n                React.DOM.td(null, user.attributes.company), \n                React.DOM.td(null, user.attributes.operatingArea), \n                React.DOM.td({className: \"actions\"}, \n                    React.DOM.i({className: \"fa fa-pencil\", 'data-toggle': \"modal\", 'data-target': \"#user-modal\", onClick: me.props.onEdit.bind(null, user)}), \n                    React.DOM.i({className: \"fa fa-trash\"})\n                )\n            )\n        });\n        \n        return React.DOM.div({className: \"user-list\"}, \n            React.DOM.table({className: \"table table-striped table-bordered\"}, \n                React.DOM.thead(null, \n                    React.DOM.th(null, \"Name\"), \n                    React.DOM.th(null, \"Email Addresss\"), \n                    React.DOM.th(null, \"Phone Number\"), \n                    React.DOM.th(null, \"Role\"), \n                    React.DOM.th(null, \"Company\"), \n                    React.DOM.th(null, \"Operating Area\"), \n                    React.DOM.th(null)\n                ), \n                React.DOM.tbody(null, \n                    users\n                )\n            )\n        )\n    }\n});","/** @jsx React.DOM */\n/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\"),\n    Dropdown = require(\"components/dropdown\"),\n\tUser = require(\"models/user\"),\n    UserActions = require(\"actions/user\"),\n    \n\tconstants = require(\"constants\"),\n    dispatcher = require(\"dispatcher/dispatcher\"),\n\temitter = require(\"dispatcher/emitter\");\n\nmodule.exports = React.createClass({displayName: 'exports',\n    getInitialState: function() {\n        return {\n            roles: [],\n\t\t\tcompanies: [],\n\t\t\toperatingAreas: [],\n            errorMessage: \"\",\n\t\t\tloading: false,\n\t\t\troleError: false,\n\t\t\tcompanyError: false,\n\t\t\toperatingAreaError: false,\n\t\t\tfirstNameError: false,\n\t\t\tlastNameError: false,\n\t\t\tphoneError: false,\n\t\t\temailError: false,\n\t\t\tpasswordError: false,\n\t\t\tconfirmedPasswordError: false\n        };\n    },\n\t\n\tcomponentWillMount: function() {\n        var me = this;\n        emitter.on(constants.user.USER_CREATED, function(user) { $(\"#new-user-modal\").modal(\"hide\"); });\n\t\temitter.on(constants.role.ALL, function(roles) { me.setState({ roles: roles }); });\n\t\temitter.on(constants.company.ALL, function(companies) { me.setState({ companies: companies }); });\n\t\temitter.on(constants.operatingArea.ALL, function(operatingAreas) { me.setState({ operatingAreas: operatingAreas }); });\n\t\t$(\"#user-modal\").on(\"shown\", function() { me.user = _.clone(me.props.user); });\n\t},\n    \n\treset: function() {\n\t\t//this.props.user = this.user;\n\t},\n\t\n\tsave: function() {\n\t\tvar user = _buildUser(this);\n\t\tvar errors = user.validate();\n\t\t_setErrors(errors, this);\n\t\tif (errors.length === 0) {\n            var me = this;\n            this.setState({ loading: true });\n            dispatcher.dispatch(UserActions.create(user));\n        }\n\t\t\n\t\tfunction _buildUser(context) {\n\t\t\tvar initial = context.getInitialState();\n\t\t\t\n\t\t\treturn new User({\n\t\t\t\trole: context.state.role === initial.role ? undefined : context.state.role,\n\t\t\t\tcompany: context.state.company === initial.company ? undefined : context.state.company,\n\t\t\t\toperatingArea: context.state.operatingArea === initial.operatingArea ? undefined : context.state.operatingArea,\n\t\t\t\tfirstName: context.state.firstName,\n\t\t\t\tlastName: context.state.lastName,\n\t\t\t\tphone: context.state.phone,\n\t\t\t\temail: context.state.email,\n\t\t\t\tpassword: context.state.password,\n\t\t\t\tconfirmedPassword: context.state.confirmedPassword\n\t\t\t});\n\t\t}\n\t\t\n\t\tfunction _setErrors(errors, context) {\n            var newState = {}, keyed = errors.dict(\"key\"), count = 0, message;\n\t\t\tfor (var name in context.state)\n\t\t\t\tif (name.endsWith(\"Error\")) {\n\t\t\t\t\tvar error = keyed[name.replace(\"Error\", \"\")];\n\t\t\t\t\tnewState[name] = error !== undefined;\n\t\t\t\t\tif (error !== undefined) {\n\t\t\t\t\t\tif (count === 0)\n\t\t\t\t\t\t\tmessage = error.message;\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\tnewState.errorMessage = count === 0 ? \"\" : count === 1 ? message : \"Please fix the fields outlined in red.\";\n            context.setState(newState);\n\t\t}\n        \n        function _getErrorKeys(errors) {\n            var keys = {};\n            for (var i = 0; i < errors.length; i++)\n                keys[errors[i].key] = errors[i].message;\n            return keys;\n        }\n\t},\n\t\n\tsetDropdownData: function(key, value) {\n\t\tthis.props.user.set(key, value);\n\t\tthis.forceUpdate();\n\t},\n\t\n\tsetTextData: function(key, event) {\n\t\tvar object = {};\n\t\tobject[key] = event.target.value;\n\t\tthis.setState(object);\n\t},\n\t\n\trender: function () {\n        return React.DOM.div({className: \"modal fade\", id: \"user-modal\", tabindex: \"-1\", role: \"dialog\", 'aria-hidden': \"true\"}, \n          React.DOM.div({className: \"modal-dialog\"}, \n                React.DOM.div({className: \"modal-content\"}, \n                    React.DOM.div({className: \"modal-header\"}, \n                        React.DOM.button({type: \"button\", className: \"close\", 'data-dismiss': \"modal\"}, \n                            React.DOM.span({'aria-hidden': \"true\"}, \"×\"), \n                            React.DOM.span({className: \"sr-only\"}, \"Close\")\n                        ), \n                        React.DOM.h4({className: \"modal-title\", id: \"myModalLabel\"}, \"New User\")\n                    ), \n                    React.DOM.div({className: \"modal-body container\"}, \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"Role\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tDropdown({error: this.state.roleError, list: this.state.roles, select: this.setDropdownData.bind(this, \"role\"), value: this.props.user.get(\"role\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"Company\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tDropdown({error: this.state.companyError, list: this.state.companies, select: this.setDropdownData.bind(this, \"company\"), value: this.props.user.get(\"company\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"Operating Area\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tDropdown({error: this.state.operatingAreaError, list: this.state.operatingAreas, select: this.setDropdownData.bind(this, \"operatingArea\"), value: this.props.user.get(\"operatingArea\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"First Name\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tReact.DOM.input({type: \"text\", className: \"form-control\", value: this.props.user.get(\"firstName\"), onChange: this.setTextData.bind(this, \"firstName\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"Last Name\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tReact.DOM.input({type: \"text\", className: \"form-control\", value: this.props.user.get(\"lastName\"), onChange: this.setTextData.bind(this, \"lastName\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"Email Address\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tReact.DOM.input({type: \"text\", className: \"form-control\", value: this.props.user.get(\"email\"), onChange: this.setTextData.bind(this, \"email\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"Phone Number\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tReact.DOM.input({type: \"text\", className: \"form-control\", value: this.props.user.get(\"phone\"), onChange: this.setTextData.bind(this, \"phone\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"Password\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tReact.DOM.input({type: \"password\", className: \"form-control\", value: this.props.user.get(\"password\"), onChange: this.setTextData.bind(this, \"password\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t), \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-4\"}, \n\t\t\t\t\t\t\t\tReact.DOM.label(null, \"Confirmed Password\")\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col-md-8\"}, \n\t\t\t\t\t\t\t\tReact.DOM.input({type: \"password\", className: \"form-control\", value: this.props.user.get(\"confirmedPassword\"), onChange: this.setTextData.bind(this, \"confirmedPassword\")})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n                    ), \n                    React.DOM.div({className: \"modal-footer\"}, \n\t\t\t\t\t\tReact.DOM.div({className: \"row\"}, \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col col-md-6\"}, \n\t\t\t\t\t\t\t\tReact.DOM.span({className: \"error-message\" + (this.state.errorMessage === \"\" ? \"\" : \" show\")}, this.state.errorMessage)\n\t\t\t\t\t\t\t), \n\t\t\t\t\t\t\tReact.DOM.div({className: \"col col-md-6\"}, \n\t\t\t\t\t\t\t\tReact.DOM.button({type: \"button\", className: \"btn btn-default\", disabled: this.state.loading, 'data-dismiss': \"modal\", onClick: this.reset}, \"Close\"), \n\t\t\t\t\t\t\t\tReact.DOM.button({type: \"button\", className: \"btn btn-primary\", disabled: this.state.loading, onClick: this.save}, \"Save\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n                    )\n                )\n            )\n        );\n    }\n});","module.exports = {\n\tfixtures: true\n};","module.exports = {\n\tVIEW_ACTION: \"view-action\",\n\t\n    user: {\n        ALL: \"all-users\",\n\t\tCREATE: \"create-user\"\n    },\n\t\n\trole: {\n\t\tALL: \"all-roles\",\n\t\tCREATE: \"create-role\",\n\t},\n\t\n\tcompany: {\n\t\tALL: \"all-companies\",\n\t\tCREATE: \"create-company\"\n\t},\n\t\n\toperatingArea: {\n\t\tALL: \"all-operating-areas\",\n\t\tCREATE: \"create-operating-area\"\n\t}\n};","/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\"),\n    Management = require(\"pages/management\");\n\nvar Controller = Backbone.Marionette.Controller.extend({\n    initialize: function (options) {\n        this.container = options.container;\n    },\n\n    management: function () {\n        React.renderComponent(new Management(), this.container);\n    }\n});\n\nmodule.exports = Controller;","/* jshint node: true */\n\"use strict\";\n\nvar Dispatcher = require(\"flux\").Dispatcher;\n\nmodule.exports = new Dispatcher();","module.exports = new EventEmitter();","Array.prototype.dict = function(prop) {\n    var obj = {};\n    for (var i = 0; i < this.length; i++)\n        obj[this[i][prop]] = this[i];\n    return obj;\n};","[\"string\", \"array\"].forEach(function(location) {\n    require(\"extensions/\" + location);  \n});","String.prototype.endsWith = function(value) {\n\tif (value.length > this.length)\n\t\treturn false;\n\treturn value.length <= this.length && this.substr(this.length - value.length, value.length) === value;\n};","/* jshint node: true */\n\"use strict\";\n\nvar app = require(\"application\"),\n\tHeader = require(\"components/header\"),\n    Controller = require(\"controller\"),\n    Router = require(\"router\"),\n\tActions = require(\"actions\"),\n\t\n\tconstants = require(\"constants\"),\n\tdispatcher = require(\"dispatcher/dispatcher\"),\n\tstores = require(\"stores\");\n\nrequire(\"extensions\");\nrequire(\"stores\");\n\n$(function () {\n\tapp.data = {};\n    app.addInitializer(function initializeRouter() {\n        new Router({controller: new Controller({container: $(\"#app\")[0]})});\n\t\tReact.renderComponent(new Header(), $(\"header\")[0]);\n\t\t\n\t\tdispatcher.dispatch(Actions[\"role\"].all());\n\t\tdispatcher.dispatch(Actions[\"company\"].all());\n\t\tdispatcher.dispatch(Actions[\"operatingArea\"].all());\n\t\tdispatcher.dispatch(Actions[\"user\"].all());\n    });\n\n    app.start();\n});\n","var validation = require(\"utilities/validation\");\n\nmodule.exports = Backbone.Model.extend({\n\tvalidate: function() {\n\t\tvar attrs = this.attributes, errors = [];\n\t\tif (!validation.require(attrs.name))\n\t\t\terrors.push({ key: \"name\", message: \"The name is required.\" });\n        return errors;\n\t}\n});","var validation = require(\"utilities/validation\");\n\nmodule.exports = Backbone.Model.extend({\n\tvalidate: function() {\n\t\tvar attrs = this.attributes, errors = [];\n\t\tif (!validation.require(attrs.name))\n\t\t\terrors.push({ key: \"name\", message: \"The name is required.\" });\n        return errors;\n\t}\n});","var validation = require(\"utilities/validation\");\n\nmodule.exports = Backbone.Model.extend({\n\tvalidate: function() {\n\t\tvar attrs = this.attributes, errors = [];\n\t\tif (!validation.require(attrs.name))\n\t\t\terrors.push({ key: \"name\", message: \"The name is required.\" });\n        return errors;\n\t}\n});","var validation = require(\"utilities/validation\");\n\nmodule.exports = Backbone.Model.extend({\n\tvalidate: function() {\n\t\tvar attrs = this.attributes, errors = [];\n\t\tif (!validation.required(attrs.role))\n\t\t\terrors.push({ key: \"role\", message: \"The role is required.\" });\n\t\tif (!validation.required(attrs.company))\n\t\t\terrors.push({ key: \"company\", message: \"The company is required.\" });\n\t\tif (!validation.required(attrs.operatingArea))\n\t\t\terrors.push({ key: \"operatingArea\", message: \"The operating area is required.\" });\n\t\tif (!validation.required(attrs.firstName))\n\t\t\terrors.push({ key: \"firstName\", message: \"The first name is required.\" });\n\t\tif (!validation.required(attrs.lastName))\n\t\t\terrors.push({ key: \"lastName\", message: \"The last name is required.\" });\n\t\tif (attrs.phone !== \"\" && !validation.phone(attrs.phone))\n\t\t\terrors.push({ key: \"phone\", message: \"The phone number is invalid.\" });\n\t\tif (!validation.email(attrs.email))\n\t\t\terrors.push({ key: \"email\", message: \"The email address is invalid.\" });\n\t\tif (!validation.required(attrs.password))\n\t\t\terrors.push({ key: \"password\", message: \"The password is required.\" });\n\t\tif (!validation.required(attrs.confirmedPassword))\n\t\t\terrors.push({ key: \"confirmedPassword\", message: \"The confirmed password is required.\" });\n\t\tif (attrs.password !== attrs.confirmedPassword) {\n\t\t\terrors.push({ key: \"password\", message: \"The passwords must match.\" });\n\t\t\terrors.push({ key: \"confirmedPassword\", message: \"The passwords must match.\" });\n\t\t}\n        return errors;\n\t}\n});","/** @jsx React.DOM */\n/* jshint node: true */\n\"use strict\";\n\nvar React = require(\"react\"),\n    User = require(\"models/user\"),\n    UserModal = require(\"components/userModal\"),\n    UserList = require(\"components/userList\");\n\nmodule.exports = React.createClass({displayName: 'exports',\n    getInitialState: function() {\n        return {\n            user: new User()\n        };\n    },\n    \n\tnewUser: function() {\n\t\tthis.setState({ user: new User(), isEdit: false });\t\n\t},\n\t\n    editUser: function(user) {\n\t\tthis.setState({ user: user, isEdit: true });\n\t},\n    \n    render: function() {\n        return React.DOM.div({className: \"container management-container\"}, \n            React.DOM.h2(null, \"Management\"), \n\t\t\tReact.DOM.div({className: \"actions\"}, \n                React.DOM.button({type: \"button\", className: \"btn btn-primary\", onClick: this.newUser, 'data-toggle': \"modal\", 'data-target': \"#user-modal\"}, \"New User\")\n            ), \n\t\t\t\n            UserModal({onSave: this.addUser, user: this.state.user, isEdit: this.state.isEdit}), \n            UserList({onEdit: this.editUser})\n        );\n    }\n});","/* jshint node: true */\n\"use strict\";\n\nvar Backbone = require(\"backbone\");\n\nmodule.exports = Backbone.Marionette.AppRouter.extend({\n    appRoutes: {\n        \"\": \"management\"\n    }\n});","/* jshint node: true */\n\"use strict\";\n\nvar Config = require(\"config\"),\n\tBackbone = require(\"backbone\"),\n\t\n\temitter = require(\"dispatcher/emitter\"),\n\tdispatcher = require(\"dispatcher/dispatcher\"),\n\tconstants = require(\"constants\");\n\nmodule.exports = function(model, constants, url) {\n\tvar Collection = Backbone.Collection.extend({ model: model, url: url });\n\tvar constants = constants, me = this, collection = new Collection;\n\t\n\tthis.all = function() {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tcollection.fetch({\n\t\t\t\tsuccess: function(result, response) {\n\t\t\t\t\tvar models = result.models;\n\t\t\t\t\tresolve(models);\n\t\t\t\t\temitter.emit(constants.ALL, models);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\t\n\tdispatcher.register(function(payload) {\n\t\tswitch (payload.type) {\n\t\t\tcase constants.ALL:\n\t\t\t\tme.all();\n\t\t\t\tbreak;\n\t\t}\n\t});\n};","/* jshint node: true */\n\"use strict\";\n\nvar Company = require(\"models/company\"),\n\tBaseStore = require(\"stores/base\"),\n\t\n\tconstants = require(\"constants\");\n\nmodule.exports = new BaseStore(Company, constants.company, \"fixtures/companies.json\");","var stores = {};\n[\"user\", \"company\", \"operatingArea\", \"role\"].forEach(function(location) {\n    stores[location] = require(\"stores/\" + location);  \n});\nmodule.exports = stores;","/* jshint node: true */\n\"use strict\";\n\nvar OperatingArea = require(\"models/role\"),\n\tBaseStore = require(\"stores/base\"),\n\t\n\tconstants = require(\"constants\");\n\nmodule.exports = new BaseStore(OperatingArea, constants.operatingArea, \"fixtures/operatingAreas.json\");","/* jshint node: true */\n\"use strict\";\n\nvar Role = require(\"models/role\"),\n\tBaseStore = require(\"stores/base\"),\n\t\n\tconstants = require(\"constants\");\n\nmodule.exports = new BaseStore(Role, constants.role, \"fixtures/roles.json\");","/* jshint node: true */\n\"use strict\";\n\nvar User = require(\"models/role\"),\n\tBaseStore = require(\"stores/base\"),\n\t\n\tconstants = require(\"constants\");\n\nmodule.exports = new BaseStore(User, constants.user, \"fixtures/users.json\");","module.exports = {\n\trequired: function(value) {\n\t\treturn value !== undefined && value !== \"\";\n\t},\n\t\n\tphone: function(value) {\n\t\tvalue = value.replace(/[\\D]/g, \"\");\n\t\treturn value.length === 10;\n\t},\n\t\n\temail: function(value) {\n\t\treturn new RegExp(/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/).test(value);\n\t}\n}"]}